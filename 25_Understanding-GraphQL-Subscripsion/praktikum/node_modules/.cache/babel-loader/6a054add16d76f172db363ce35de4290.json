{"ast":null,"code":"\"use strict\";\n\nrequire(\"regenerator-runtime/runtime.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.symbol.iterator.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.object.keys.js\");\n\nrequire(\"core-js/modules/es.array.filter.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptors.js\");\n\nrequire(\"core-js/modules/es.string.link.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nrequire(\"core-js/modules/es.regexp.exec.js\");\n\nrequire(\"core-js/modules/es.string.split.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createApolloClient = createApolloClient;\nexports.restartWebsockets = restartWebsockets;\n\nvar _apolloClient = require(\"apollo-client\");\n\nvar _apolloLink = require(\"apollo-link\");\n\nvar _apolloUploadClient = require(\"apollo-upload-client\");\n\nvar _apolloCacheInmemory = require(\"apollo-cache-inmemory\");\n\nvar _subscriptionsTransportWs = require(\"subscriptions-transport-ws\");\n\nvar _messageTypes = _interopRequireDefault(require(\"subscriptions-transport-ws/dist/message-types\"));\n\nvar _apolloLinkWs = require(\"apollo-link-ws\");\n\nvar _apolloUtilities = require(\"apollo-utilities\");\n\nvar _apolloLinkPersistedQueries = require(\"apollo-link-persisted-queries\");\n\nvar _apolloLinkContext = require(\"apollo-link-context\");\n\nvar _apolloLinkState = require(\"apollo-link-state\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n} // Create the apollo client\n\n\nfunction createApolloClient(_ref) {\n  var _ref$clientId = _ref.clientId,\n      clientId = _ref$clientId === void 0 ? 'defaultClient' : _ref$clientId,\n      httpEndpoint = _ref.httpEndpoint,\n      _ref$wsEndpoint = _ref.wsEndpoint,\n      wsEndpoint = _ref$wsEndpoint === void 0 ? null : _ref$wsEndpoint,\n      _ref$tokenName = _ref.tokenName,\n      tokenName = _ref$tokenName === void 0 ? 'apollo-token' : _ref$tokenName,\n      _ref$persisting = _ref.persisting,\n      persisting = _ref$persisting === void 0 ? false : _ref$persisting,\n      _ref$ssr = _ref.ssr,\n      ssr = _ref$ssr === void 0 ? false : _ref$ssr,\n      _ref$websocketsOnly = _ref.websocketsOnly,\n      websocketsOnly = _ref$websocketsOnly === void 0 ? false : _ref$websocketsOnly,\n      _ref$link = _ref.link,\n      link = _ref$link === void 0 ? null : _ref$link,\n      _ref$preAuthLinks = _ref.preAuthLinks,\n      preAuthLinks = _ref$preAuthLinks === void 0 ? [] : _ref$preAuthLinks,\n      _ref$defaultHttpLink = _ref.defaultHttpLink,\n      defaultHttpLink = _ref$defaultHttpLink === void 0 ? true : _ref$defaultHttpLink,\n      _ref$httpLinkOptions = _ref.httpLinkOptions,\n      httpLinkOptions = _ref$httpLinkOptions === void 0 ? {} : _ref$httpLinkOptions,\n      _ref$cache = _ref.cache,\n      cache = _ref$cache === void 0 ? null : _ref$cache,\n      _ref$inMemoryCacheOpt = _ref.inMemoryCacheOptions,\n      inMemoryCacheOptions = _ref$inMemoryCacheOpt === void 0 ? {} : _ref$inMemoryCacheOpt,\n      _ref$apollo = _ref.apollo,\n      apollo = _ref$apollo === void 0 ? {} : _ref$apollo,\n      _ref$clientState = _ref.clientState,\n      clientState = _ref$clientState === void 0 ? null : _ref$clientState,\n      _ref$getAuth = _ref.getAuth,\n      getAuth = _ref$getAuth === void 0 ? defaultGetAuth : _ref$getAuth,\n      _ref$typeDefs = _ref.typeDefs,\n      typeDefs = _ref$typeDefs === void 0 ? undefined : _ref$typeDefs,\n      _ref$resolvers = _ref.resolvers,\n      resolvers = _ref$resolvers === void 0 ? undefined : _ref$resolvers,\n      _ref$onCacheInit = _ref.onCacheInit,\n      onCacheInit = _ref$onCacheInit === void 0 ? undefined : _ref$onCacheInit;\n  var wsClient, authLink, stateLink;\n  var disableHttp = websocketsOnly && !ssr && wsEndpoint; // Apollo cache\n\n  if (!cache) {\n    cache = new _apolloCacheInmemory.InMemoryCache(inMemoryCacheOptions);\n  }\n\n  if (!disableHttp) {\n    var httpLink = (0, _apolloUploadClient.createUploadLink)(_objectSpread({\n      uri: httpEndpoint\n    }, httpLinkOptions));\n\n    if (!link) {\n      link = httpLink;\n    } else if (defaultHttpLink) {\n      link = (0, _apolloLink.from)([link, httpLink]);\n    } // HTTP Auth header injection\n\n\n    authLink = (0, _apolloLinkContext.setContext)( /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_, _ref2) {\n        var headers, Authorization, authorizationHeader;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                headers = _ref2.headers;\n                _context.next = 3;\n                return getAuth(tokenName);\n\n              case 3:\n                Authorization = _context.sent;\n                authorizationHeader = Authorization ? {\n                  Authorization: Authorization\n                } : {};\n                return _context.abrupt(\"return\", {\n                  headers: _objectSpread(_objectSpread({}, headers), authorizationHeader)\n                });\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x, _x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }()); // Concat all the http link parts\n\n    link = authLink.concat(link);\n\n    if (preAuthLinks.length) {\n      link = (0, _apolloLink.from)(preAuthLinks).concat(authLink);\n    }\n  } // On the server, we don't want WebSockets and Upload links\n\n\n  if (!ssr) {\n    // If on the client, recover the injected state\n    if (typeof window !== 'undefined') {\n      // eslint-disable-next-line no-underscore-dangle\n      var state = window.__APOLLO_STATE__;\n\n      if (state && state[clientId]) {\n        // Restore state\n        cache.restore(state[clientId]);\n      }\n    }\n\n    if (!disableHttp) {\n      var persistingOpts = {};\n\n      if (_typeof(persisting) === 'object' && persisting != null) {\n        persistingOpts = persisting;\n        persisting = true;\n      }\n\n      if (persisting === true) {\n        link = (0, _apolloLinkPersistedQueries.createPersistedQueryLink)(persistingOpts).concat(link);\n      }\n    } // Web socket\n\n\n    if (wsEndpoint) {\n      wsClient = new _subscriptionsTransportWs.SubscriptionClient(wsEndpoint, {\n        reconnect: true,\n        connectionParams: function connectionParams() {\n          var Authorization = getAuth(tokenName);\n          return Authorization ? {\n            Authorization: Authorization,\n            headers: {\n              Authorization: Authorization\n            }\n          } : {};\n        }\n      }); // Create the subscription websocket link\n\n      var wsLink = new _apolloLinkWs.WebSocketLink(wsClient);\n\n      if (disableHttp) {\n        link = link ? link.concat(wsLink) : wsLink;\n      } else {\n        link = (0, _apolloLink.split)( // split based on operation type\n        function (_ref4) {\n          var query = _ref4.query;\n\n          var _getMainDefinition = (0, _apolloUtilities.getMainDefinition)(query),\n              kind = _getMainDefinition.kind,\n              operation = _getMainDefinition.operation;\n\n          return kind === 'OperationDefinition' && operation === 'subscription';\n        }, wsLink, link);\n      }\n    }\n  }\n\n  if (clientState) {\n    console.warn('clientState is deprecated, see https://vue-cli-plugin-apollo.netlify.com/guide/client-state.html');\n    stateLink = (0, _apolloLinkState.withClientState)(_objectSpread({\n      cache: cache\n    }, clientState));\n    link = (0, _apolloLink.from)([stateLink, link]);\n  }\n\n  var apolloClient = new _apolloClient.ApolloClient(_objectSpread(_objectSpread({\n    link: link,\n    cache: cache\n  }, ssr ? {\n    // Set this on the server to optimize queries when SSR\n    ssrMode: true\n  } : {\n    // This will temporary disable query force-fetching\n    ssrForceFetchDelay: 100,\n    // Apollo devtools\n    connectToDevTools: process.env.NODE_ENV !== 'production'\n  }), {}, {\n    typeDefs: typeDefs,\n    resolvers: resolvers\n  }, apollo)); // Re-write the client state defaults on cache reset\n\n  if (stateLink) {\n    apolloClient.onResetStore(stateLink.writeDefaults);\n  }\n\n  if (onCacheInit) {\n    onCacheInit(cache);\n    apolloClient.onResetStore(function () {\n      return onCacheInit(cache);\n    });\n  }\n\n  return {\n    apolloClient: apolloClient,\n    wsClient: wsClient,\n    stateLink: stateLink\n  };\n}\n\nfunction restartWebsockets(wsClient) {\n  // Copy current operations\n  var operations = Object.assign({}, wsClient.operations); // Close connection\n\n  wsClient.close(true); // Open a new one\n\n  wsClient.connect(); // Push all current operations to the new connection\n\n  Object.keys(operations).forEach(function (id) {\n    wsClient.sendMessage(id, _messageTypes[\"default\"].GQL_START, operations[id].options);\n  });\n}\n\nfunction defaultGetAuth(tokenName) {\n  if (typeof window !== 'undefined') {\n    // get the authentication token from local storage if it exists\n    var token = window.localStorage.getItem(tokenName); // return the headers to the context so httpLink can read them\n\n    return token ? \"Bearer \".concat(token) : '';\n  }\n}","map":{"version":3,"sources":["C:/Users/Asus X441M/Documents/ALTERRA/vue-js_ilmy-rahmawaty/23_Understanding-GraphQL-Query/belajar/node_modules/vue-cli-plugin-apollo/graphql-client/dist/index.js"],"names":["Object","defineProperty","exports","value","createApolloClient","restartWebsockets","_apolloClient","require","_apolloLink","_apolloUploadClient","_apolloCacheInmemory","_subscriptionsTransportWs","_messageTypes","_interopRequireDefault","_apolloLinkWs","_apolloUtilities","_apolloLinkPersistedQueries","_apolloLinkContext","_apolloLinkState","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","target","i","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","_ref","_ref$clientId","clientId","httpEndpoint","_ref$wsEndpoint","wsEndpoint","_ref$tokenName","tokenName","_ref$persisting","persisting","_ref$ssr","ssr","_ref$websocketsOnly","websocketsOnly","_ref$link","link","_ref$preAuthLinks","preAuthLinks","_ref$defaultHttpLink","defaultHttpLink","_ref$httpLinkOptions","httpLinkOptions","_ref$cache","cache","_ref$inMemoryCacheOpt","inMemoryCacheOptions","_ref$apollo","apollo","_ref$clientState","clientState","_ref$getAuth","getAuth","defaultGetAuth","_ref$typeDefs","typeDefs","_ref$resolvers","resolvers","_ref$onCacheInit","onCacheInit","wsClient","authLink","stateLink","disableHttp","InMemoryCache","httpLink","createUploadLink","uri","from","setContext","_ref3","regeneratorRuntime","mark","_callee","_","_ref2","headers","Authorization","authorizationHeader","wrap","_callee$","_context","prev","next","sent","abrupt","stop","_x","_x2","concat","window","state","__APOLLO_STATE__","restore","persistingOpts","createPersistedQueryLink","SubscriptionClient","reconnect","connectionParams","wsLink","WebSocketLink","split","_ref4","query","_getMainDefinition","getMainDefinition","kind","operation","console","warn","withClientState","apolloClient","ApolloClient","ssrMode","ssrForceFetchDelay","connectToDevTools","process","env","NODE_ENV","onResetStore","writeDefaults","operations","assign","close","connect","id","sendMessage","GQL_START","options","token","localStorage","getItem"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createApolloClient = createApolloClient;\nexports.restartWebsockets = restartWebsockets;\n\nvar _apolloClient = require(\"apollo-client\");\n\nvar _apolloLink = require(\"apollo-link\");\n\nvar _apolloUploadClient = require(\"apollo-upload-client\");\n\nvar _apolloCacheInmemory = require(\"apollo-cache-inmemory\");\n\nvar _subscriptionsTransportWs = require(\"subscriptions-transport-ws\");\n\nvar _messageTypes = _interopRequireDefault(require(\"subscriptions-transport-ws/dist/message-types\"));\n\nvar _apolloLinkWs = require(\"apollo-link-ws\");\n\nvar _apolloUtilities = require(\"apollo-utilities\");\n\nvar _apolloLinkPersistedQueries = require(\"apollo-link-persisted-queries\");\n\nvar _apolloLinkContext = require(\"apollo-link-context\");\n\nvar _apolloLinkState = require(\"apollo-link-state\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// Create the apollo client\nfunction createApolloClient(_ref) {\n  var _ref$clientId = _ref.clientId,\n      clientId = _ref$clientId === void 0 ? 'defaultClient' : _ref$clientId,\n      httpEndpoint = _ref.httpEndpoint,\n      _ref$wsEndpoint = _ref.wsEndpoint,\n      wsEndpoint = _ref$wsEndpoint === void 0 ? null : _ref$wsEndpoint,\n      _ref$tokenName = _ref.tokenName,\n      tokenName = _ref$tokenName === void 0 ? 'apollo-token' : _ref$tokenName,\n      _ref$persisting = _ref.persisting,\n      persisting = _ref$persisting === void 0 ? false : _ref$persisting,\n      _ref$ssr = _ref.ssr,\n      ssr = _ref$ssr === void 0 ? false : _ref$ssr,\n      _ref$websocketsOnly = _ref.websocketsOnly,\n      websocketsOnly = _ref$websocketsOnly === void 0 ? false : _ref$websocketsOnly,\n      _ref$link = _ref.link,\n      link = _ref$link === void 0 ? null : _ref$link,\n      _ref$preAuthLinks = _ref.preAuthLinks,\n      preAuthLinks = _ref$preAuthLinks === void 0 ? [] : _ref$preAuthLinks,\n      _ref$defaultHttpLink = _ref.defaultHttpLink,\n      defaultHttpLink = _ref$defaultHttpLink === void 0 ? true : _ref$defaultHttpLink,\n      _ref$httpLinkOptions = _ref.httpLinkOptions,\n      httpLinkOptions = _ref$httpLinkOptions === void 0 ? {} : _ref$httpLinkOptions,\n      _ref$cache = _ref.cache,\n      cache = _ref$cache === void 0 ? null : _ref$cache,\n      _ref$inMemoryCacheOpt = _ref.inMemoryCacheOptions,\n      inMemoryCacheOptions = _ref$inMemoryCacheOpt === void 0 ? {} : _ref$inMemoryCacheOpt,\n      _ref$apollo = _ref.apollo,\n      apollo = _ref$apollo === void 0 ? {} : _ref$apollo,\n      _ref$clientState = _ref.clientState,\n      clientState = _ref$clientState === void 0 ? null : _ref$clientState,\n      _ref$getAuth = _ref.getAuth,\n      getAuth = _ref$getAuth === void 0 ? defaultGetAuth : _ref$getAuth,\n      _ref$typeDefs = _ref.typeDefs,\n      typeDefs = _ref$typeDefs === void 0 ? undefined : _ref$typeDefs,\n      _ref$resolvers = _ref.resolvers,\n      resolvers = _ref$resolvers === void 0 ? undefined : _ref$resolvers,\n      _ref$onCacheInit = _ref.onCacheInit,\n      onCacheInit = _ref$onCacheInit === void 0 ? undefined : _ref$onCacheInit;\n  var wsClient, authLink, stateLink;\n  var disableHttp = websocketsOnly && !ssr && wsEndpoint; // Apollo cache\n\n  if (!cache) {\n    cache = new _apolloCacheInmemory.InMemoryCache(inMemoryCacheOptions);\n  }\n\n  if (!disableHttp) {\n    var httpLink = (0, _apolloUploadClient.createUploadLink)(_objectSpread({\n      uri: httpEndpoint\n    }, httpLinkOptions));\n\n    if (!link) {\n      link = httpLink;\n    } else if (defaultHttpLink) {\n      link = (0, _apolloLink.from)([link, httpLink]);\n    } // HTTP Auth header injection\n\n\n    authLink = (0, _apolloLinkContext.setContext)( /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_, _ref2) {\n        var headers, Authorization, authorizationHeader;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                headers = _ref2.headers;\n                _context.next = 3;\n                return getAuth(tokenName);\n\n              case 3:\n                Authorization = _context.sent;\n                authorizationHeader = Authorization ? {\n                  Authorization: Authorization\n                } : {};\n                return _context.abrupt(\"return\", {\n                  headers: _objectSpread(_objectSpread({}, headers), authorizationHeader)\n                });\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x, _x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }()); // Concat all the http link parts\n\n    link = authLink.concat(link);\n\n    if (preAuthLinks.length) {\n      link = (0, _apolloLink.from)(preAuthLinks).concat(authLink);\n    }\n  } // On the server, we don't want WebSockets and Upload links\n\n\n  if (!ssr) {\n    // If on the client, recover the injected state\n    if (typeof window !== 'undefined') {\n      // eslint-disable-next-line no-underscore-dangle\n      var state = window.__APOLLO_STATE__;\n\n      if (state && state[clientId]) {\n        // Restore state\n        cache.restore(state[clientId]);\n      }\n    }\n\n    if (!disableHttp) {\n      var persistingOpts = {};\n\n      if (_typeof(persisting) === 'object' && persisting != null) {\n        persistingOpts = persisting;\n        persisting = true;\n      }\n\n      if (persisting === true) {\n        link = (0, _apolloLinkPersistedQueries.createPersistedQueryLink)(persistingOpts).concat(link);\n      }\n    } // Web socket\n\n\n    if (wsEndpoint) {\n      wsClient = new _subscriptionsTransportWs.SubscriptionClient(wsEndpoint, {\n        reconnect: true,\n        connectionParams: function connectionParams() {\n          var Authorization = getAuth(tokenName);\n          return Authorization ? {\n            Authorization: Authorization,\n            headers: {\n              Authorization: Authorization\n            }\n          } : {};\n        }\n      }); // Create the subscription websocket link\n\n      var wsLink = new _apolloLinkWs.WebSocketLink(wsClient);\n\n      if (disableHttp) {\n        link = link ? link.concat(wsLink) : wsLink;\n      } else {\n        link = (0, _apolloLink.split)( // split based on operation type\n        function (_ref4) {\n          var query = _ref4.query;\n\n          var _getMainDefinition = (0, _apolloUtilities.getMainDefinition)(query),\n              kind = _getMainDefinition.kind,\n              operation = _getMainDefinition.operation;\n\n          return kind === 'OperationDefinition' && operation === 'subscription';\n        }, wsLink, link);\n      }\n    }\n  }\n\n  if (clientState) {\n    console.warn('clientState is deprecated, see https://vue-cli-plugin-apollo.netlify.com/guide/client-state.html');\n    stateLink = (0, _apolloLinkState.withClientState)(_objectSpread({\n      cache: cache\n    }, clientState));\n    link = (0, _apolloLink.from)([stateLink, link]);\n  }\n\n  var apolloClient = new _apolloClient.ApolloClient(_objectSpread(_objectSpread({\n    link: link,\n    cache: cache\n  }, ssr ? {\n    // Set this on the server to optimize queries when SSR\n    ssrMode: true\n  } : {\n    // This will temporary disable query force-fetching\n    ssrForceFetchDelay: 100,\n    // Apollo devtools\n    connectToDevTools: process.env.NODE_ENV !== 'production'\n  }), {}, {\n    typeDefs: typeDefs,\n    resolvers: resolvers\n  }, apollo)); // Re-write the client state defaults on cache reset\n\n  if (stateLink) {\n    apolloClient.onResetStore(stateLink.writeDefaults);\n  }\n\n  if (onCacheInit) {\n    onCacheInit(cache);\n    apolloClient.onResetStore(function () {\n      return onCacheInit(cache);\n    });\n  }\n\n  return {\n    apolloClient: apolloClient,\n    wsClient: wsClient,\n    stateLink: stateLink\n  };\n}\n\nfunction restartWebsockets(wsClient) {\n  // Copy current operations\n  var operations = Object.assign({}, wsClient.operations); // Close connection\n\n  wsClient.close(true); // Open a new one\n\n  wsClient.connect(); // Push all current operations to the new connection\n\n  Object.keys(operations).forEach(function (id) {\n    wsClient.sendMessage(id, _messageTypes[\"default\"].GQL_START, operations[id].options);\n  });\n}\n\nfunction defaultGetAuth(tokenName) {\n  if (typeof window !== 'undefined') {\n    // get the authentication token from local storage if it exists\n    var token = window.localStorage.getItem(tokenName); // return the headers to the context so httpLink can read them\n\n    return token ? \"Bearer \".concat(token) : '';\n  }\n}"]},"metadata":{},"sourceType":"script"}